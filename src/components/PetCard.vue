<template>
	<div aria-label="Card" class="card bg-base-100 shadow-xl card-bordered">
		<div class="p-6 flex flex-row justify-between">
			<span class="text-3xl text-neutral text-ellipsis overflow-hidden whitespace-nowrap">{{ props.name }}</span
			><a>
				<button class="btn btn-sm btn-primary" @click="handleClick">{{ t('button.more_info') }}</button>
			</a>
		</div>

		<div
			v-if="!props.picture || props.picture === '[]' || props.picture === '%5B%5D'"
			class="object-cover h-60 w-full animate-pulse bg-primary"
		></div>
		<template v-else>
			<figure v-if="getFileType(getFileList(props.picture)[0]) === 'video'">
				<video class="w-full" controls>
					<source :src="getFirstFileHttp(props.picture)" type="video/mp4" />
				</video>
			</figure>
			<figure v-else-if="getFileType(getFileList(props.picture)[0]) === 'image'">
				<img alt="pet" :src="getFirstFileHttp(props.picture)" class="object-cover h-80 w-full" />
			</figure>
			<div v-else class="object-cover h-60 w-full animate-pulse bg-primary"></div>
		</template>

		<div class="card-body flex flex-row justify-center items-center">
			<svg
				v-if="props.breed === 'dog'"
				xmlns="http://www.w3.org/2000/svg"
				width="128.000000pt"
				height="128.000000pt"
				viewBox="0 0 128.000000 128.000000"
				preserveAspectRatio="xMidYMid meet"
				class="w-10 h-auto mr-1 fill-current"
			>
				<g transform="translate(0.000000,128.000000) scale(0.100000,-0.100000)" stroke="none">
					<path
						d="M554 1190 c-23 -5 -64 -20 -91 -33 -37 -19 -53 -23 -67 -15 -33 19 -111 3 -167 -32 -90 -58 -207 -224 -225 -318 -14 -75 41 -162 115 -182 39 -10 39 -10 30 -48 -24 -104 -2 -240 52 -319 84 -121 299 -183 541 -155 222 24 337 101 382 252 17 58 21 163 7 222 -9 38 -9 38 30 48 74 20 129 107 115 182 -18 94 -135 260 -225 318 -56 35 -134 51 -166 32 -14 -7 -33 -2 -79 19 -69 32 -179 45 -252 29z m185 -86 c111 -32 161 -106 262 -384 51 -141 53 -148 53 -255 1 -103 -1 -113 -27 -158 -47 -80 -141 -127 -284 -143 l-63 -7 0 80 0 80 41 32 c96 78 107 172 24 207 -44 18 -166 18 -210 0 -83 -35 -72 -129 24 -207 l41 -32 0 -80 0 -80 -62 7 c-144 16 -238 63 -285 143 -26 45 -28 55 -27 158 0 107 2 114 53 255 71 194 112 277 160 324 71 69 190 93 300 60z m-428 -106 c-22 -40 -58 -125 -81 -188 -23 -63 -45 -119 -50 -124 -13 -13 -57 1 -80 26 -39 43 -17 114 76 237 47 63 122 121 156 121 14 0 11 -11 -21 -72z m700 43 c75 -47 189 -215 189 -279 0 -15 -9 -38 -20 -50 -23 -25 -67 -39 -80 -26 -5 5 -27 61 -50 124 -23 63 -59 148 -81 188 -44 83 -35 93 42 43z m-291 -567 c0 -19 -62 -84 -80 -84 -18 0 -80 65 -80 84 0 13 13 16 80 16 67 0 80 -3 80 -16z"
					></path>
					<path d="M476 764 c-31 -30 -9 -84 34 -84 24 0 50 26 50 50 0 24 -26 50 -50 50 -10 0 -26 -7 -34 -16z"></path>
					<path d="M736 764 c-32 -32 -11 -84 34 -84 29 0 50 22 50 54 0 20 -28 46 -50 46 -10 0 -26 -7 -34 -16z"></path>
				</g>
			</svg>

			<svg
				v-else-if="props.breed === 'cat'"
				xmlns="http://www.w3.org/2000/svg"
				width="128.000000pt"
				height="128.000000pt"
				viewBox="0 0 128.000000 128.000000"
				preserveAspectRatio="xMidYMid meet"
				class="w-10 h-auto mr-1 fill-current"
			>
				<g transform="translate(0.000000,128.000000) scale(0.100000,-0.100000)" stroke="none">
					<path
						d="M126 1243 c-47 -71 -59 -139 -63 -373 -4 -200 -6 -220 -30 -285 -21 -56 -26 -90 -27 -165 -1 -89 1 -100 32 -162 38 -78 97 -135 186 -178 141 -69 365 -96 572 -70 236 30 377 108 446 248 31 62 33 74 32 162 0 77 -5 107 -26 161 -25 63 -26 76 -26 255 0 244 -28 385 -86 433 -55 46 -276 -100 -334 -219 l-22 -46 -70 10 c-44 6 -95 6 -138 0 l-68 -9 -34 59 c-60 101 -181 192 -282 211 -34 7 -38 5 -62 -32z m164 -102 c31 -21 73 -63 95 -95 45 -66 50 -56 -57 -116 -34 -19 -91 -62 -126 -95 l-65 -60 6 155 c3 103 11 173 22 208 15 51 18 53 43 48 15 -4 52 -24 82 -45z m825 -3 c17 -58 38 -298 29 -335 -6 -22 -9 -20 -69 35 -35 31 -90 73 -124 92 -106 60 -101 50 -57 114 21 30 52 66 69 79 38 29 107 66 124 67 7 0 19 -24 28 -52z m-360 -213 c185 -47 356 -198 414 -365 l20 -55 -86 -5 c-67 -4 -88 -9 -97 -22 -8 -13 -8 -23 0 -35 9 -15 28 -19 103 -21 l91 -3 0 -27 c0 -46 -10 -51 -99 -54 -67 -2 -86 -7 -95 -21 -21 -33 4 -51 80 -57 l69 -5 -39 -38 c-92 -91 -236 -131 -471 -131 -235 -1 -389 41 -480 130 l-40 39 69 5 c76 6 101 24 80 58 -9 13 -28 18 -95 20 -89 3 -99 8 -99 54 l0 27 91 3 c75 2 94 6 103 21 8 12 8 22 0 35 -9 14 -28 18 -98 20 -85 3 -87 3 -80 25 27 92 106 212 181 275 144 120 321 167 478 127z"
					></path>
					<path d="M401 654 c-27 -35 -26 -59 4 -89 30 -31 65 -32 93 -2 28 30 28 68 -1 95 -32 30 -71 28 -96 -4z"></path>
					<path d="M782 657 c-28 -30 -28 -68 1 -95 30 -29 62 -28 92 3 30 30 31 54 4 89 -26 33 -68 34 -97 3z"></path>
					<path
						d="M545 435 c-40 -39 -26 -115 30 -167 l27 -25 -27 -22 c-15 -11 -35 -21 -44 -21 -28 0 -60 29 -69 62 -10 39 -35 57 -59 42 -45 -28 -14 -123 53 -161 49 -28 93 -29 144 -3 l40 20 40 -20 c51 -26 95 -25 144 3 67 38 98 133 54 161 -25 15 -50 -3 -60 -42 -9 -33 -41 -62 -69 -62 -9 0 -29 10 -44 21 l-27 22 27 25 c56 52 70 128 30 167 -21 22 -33 25 -95 25 -62 0 -74 -3 -95 -25z m135 -64 c0 -5 -9 -19 -20 -32 l-20 -24 -20 24 c-29 34 -25 41 20 41 22 0 40 -4 40 -9z"
					></path>
				</g>
			</svg>

			<svg
				v-else-if="props.breed === 'rabbit'"
				xmlns="http://www.w3.org/2000/svg"
				width="128.000000pt"
				height="128.000000pt"
				viewBox="0 0 128.000000 128.000000"
				preserveAspectRatio="xMidYMid meet"
				class="w-10 h-auto mr-1 fill-current"
			>
				<g transform="translate(0.000000,128.000000) scale(0.100000,-0.100000)" stroke="none">
					<path
						d="M232 1263 c-41 -20 -69 -54 -83 -103 -10 -32 -5 -60 46 -250 33 -124 54 -225 51 -239 -2 -15 -11 -48 -19 -76 l-14 -50 -47 -3 -46 -3 0 -39 0 -39 46 -3 47 -3 13 -50 c7 -27 12 -51 11 -51 -1 -1 -19 -9 -39 -17 -21 -9 -38 -21 -38 -27 0 -10 17 -48 25 -58 2 -2 22 6 45 18 l41 21 42 -44 c23 -24 61 -57 85 -72 36 -23 42 -33 42 -61 0 -27 -4 -34 -20 -34 -17 0 -20 -7 -20 -40 l0 -40 240 0 240 0 0 40 c0 33 -3 40 -20 40 -16 0 -20 7 -20 34 0 30 6 38 50 66 28 18 65 50 83 72 l34 40 41 -21 c23 -12 43 -21 45 -21 3 0 10 14 18 31 11 28 11 33 -7 46 -10 8 -29 16 -42 20 -14 3 -21 11 -18 19 3 7 10 31 16 53 11 40 12 41 55 41 l45 0 0 40 0 40 -44 0 -44 0 -22 73 -23 72 33 125 c91 348 85 314 66 365 -26 67 -74 100 -146 100 -46 0 -63 -5 -93 -27 -41 -32 -60 -76 -103 -244 l-28 -111 -115 1 -116 1 -38 145 c-24 89 -48 157 -62 176 -45 60 -127 80 -193 47z m125 -85 c13 -15 36 -78 61 -171 38 -144 39 -148 20 -158 -11 -6 -21 -9 -22 -7 -2 2 -20 68 -41 148 -21 80 -39 148 -42 152 -3 6 -61 -6 -69 -14 -1 -2 17 -78 42 -168 43 -160 44 -165 26 -183 -18 -18 -20 -13 -65 156 -26 96 -47 184 -47 196 0 60 95 94 137 49z m682 -4 c12 -15 21 -37 21 -50 0 -20 -87 -354 -94 -361 -2 -2 -10 5 -19 15 -15 17 -14 29 28 182 24 90 43 165 41 167 -8 9 -66 21 -69 15 -2 -4 -21 -73 -43 -154 -21 -82 -41 -148 -44 -148 -3 0 -12 5 -20 10 -13 8 -11 27 19 142 48 187 60 208 122 208 29 0 42 -6 58 -26z m-271 -375 c100 -34 198 -136 217 -226 l7 -33 -71 0 -71 0 0 -40 0 -40 71 0 72 0 -7 -32 c-3 -17 -8 -33 -10 -35 -1 -2 -28 8 -60 22 -70 31 -70 31 -84 0 -18 -38 -17 -39 43 -64 30 -13 55 -26 55 -30 0 -4 -15 -21 -32 -37 -146 -136 -370 -136 -516 0 -17 16 -32 33 -32 37 0 4 25 17 55 30 30 12 55 26 55 30 0 14 -23 59 -30 59 -4 0 -33 -11 -64 -25 l-57 -25 -9 26 c-16 42 -13 44 60 44 l70 0 0 40 0 40 -71 0 -71 0 7 33 c18 87 113 188 211 224 79 29 180 30 262 2z m-8 -701 c0 -16 -12 -18 -120 -18 -108 0 -120 2 -120 18 0 15 12 17 120 17 108 0 120 -2 120 -17z"
					></path>
					<path d="M480 650 c0 -39 1 -40 35 -40 34 0 35 1 35 40 0 39 -1 40 -35 40 -34 0 -35 -1 -35 -40z"></path>
					<path d="M730 650 c0 -39 1 -40 35 -40 34 0 35 1 35 40 0 39 -1 40 -35 40 -34 0 -35 -1 -35 -40z"></path>
					<path
						d="M580 558 c-14 -7 -33 -30 -43 -51 -16 -31 -17 -42 -7 -72 6 -19 25 -44 41 -56 23 -16 29 -28 27 -48 -4 -32 -32 -35 -36 -3 -3 19 -10 22 -44 22 -37 0 -40 -2 -34 -22 3 -13 6 -28 6 -34 0 -6 12 -23 26 -38 29 -28 90 -36 112 -14 9 9 15 9 24 0 17 -17 74 -15 103 4 22 14 45 60 45 90 0 10 -13 14 -39 14 -33 0 -40 -4 -43 -22 -4 -32 -32 -29 -36 4 -2 20 4 31 23 44 59 38 68 119 19 165 -28 27 -107 36 -144 17z m81 -68 c24 -14 24 -32 -1 -55 -19 -17 -21 -17 -40 0 -25 22 -25 41 -2 54 21 13 20 13 43 1z"
					></path>
				</g>
			</svg>

			<svg
				v-else-if="props.breed === 'parrot'"
				xmlns="http://www.w3.org/2000/svg"
				width="128.000000pt"
				height="128.000000pt"
				viewBox="0 0 128.000000 128.000000"
				preserveAspectRatio="xMidYMid meet"
				class="w-10 h-auto mr-1 fill-current"
			>
				<g transform="translate(0.000000,128.000000) scale(0.100000,-0.100000)" stroke="none">
					<path
						d="M292 1268 c-38 -38 24 -138 86 -138 13 0 22 -3 20 -7 -2 -5 -15 -30 -29 -58 -26 -50 -49 -134 -49 -180 0 -15 -15 -40 -38 -64 -76 -78 -122 -199 -122 -318 l0 -63 -61 0 c-68 0 -99 -12 -99 -38 0 -37 19 -42 172 -42 l148 0 0 -168 c0 -117 4 -172 12 -180 29 -29 134 2 191 56 51 48 70 98 75 200 l5 92 38 0 39 0 0 -161 c0 -164 7 -199 38 -199 38 0 42 19 42 192 l0 168 248 0 c257 0 272 2 272 42 0 33 -34 38 -256 38 l-218 0 32 32 c63 66 76 115 80 291 l4 157 100 0 c126 0 138 6 138 69 0 85 -26 148 -85 207 -74 74 -123 87 -309 82 -141 -3 -143 -3 -219 -41 -63 -31 -86 -38 -124 -35 -44 3 -49 6 -66 41 -18 38 -42 48 -65 25z m548 -355 c0 -282 -1 -289 -24 -338 -13 -27 -34 -60 -47 -72 -38 -34 -110 -63 -161 -63 l-48 0 30 46 c40 64 50 122 50 293 0 181 -3 187 -84 177 -31 -3 -79 -15 -107 -26 l-51 -19 7 37 c17 93 111 205 198 235 25 10 80 16 140 16 l97 1 0 -287z m136 267 c51 -25 94 -84 101 -139 l6 -41 -82 0 -81 0 0 100 c0 55 3 100 7 100 4 0 26 -9 49 -20z m-416 -440 c0 -150 -9 -191 -53 -238 -43 -46 -89 -62 -183 -62 l-86 0 4 93 c3 74 9 102 31 143 48 95 98 140 196 180 95 40 91 45 91 -116z m-40 -462 c0 -112 -24 -154 -112 -196 -5 -2 -8 60 -8 137 l0 141 60 0 60 0 0 -82z"
					></path>
					<path d="M689 1099 c-9 -18 -8 -25 8 -41 22 -22 49 -16 58 13 14 43 -44 67 -66 28z"></path>
				</g>
			</svg>

			<Icon v-else-if="props.breed === 'fox'" icon="game-icons:fox" class="text-4xl" />
			<Icon v-else-if="props.breed === 'pig'" icon="mdi:pig-variant-outline" class="text-4xl" />
			<Icon v-else-if="props.breed === 'turtle'" icon="fluent:animal-turtle-16-filled" class="text-4xl" />
			<Icon v-else-if="props.breed === 'dove'" icon="fa6-solid:dove" class="text-4xl" />
			<Icon v-else icon="cil:animal" class="text-4xl" />

			<span class="text-3xl text-neutral font-bold text-ellipsis overflow-hidden whitespace-nowrap">{{ props.breed }}</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { Icon } from '@iconify/vue';
import { getFileList, getFileType, getFirstFileHttp } from '~/utils/format';
const props = defineProps({
	id: {
		type: Number,
	},
	name: {
		type: String,
	},
	breed: {
		type: String,
	},
	picture: {
		type: String,
		default: '',
	},
});

const { t } = useI18n();

const img = (val: string) => {
	console.log('[img]', val);
	if (val) {
		return import.meta.env.VITE_APP_BASE_IMG + getFileList(val)[0];
	}
	return '';
};
const emit = defineEmits(['cardClick']);

function handleClick() {
	emit('cardClick', props.id);
}
</script>

<style scoped></style>
